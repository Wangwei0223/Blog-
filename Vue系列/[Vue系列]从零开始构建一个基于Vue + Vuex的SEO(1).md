### [Vue系列]从零开始构建一个基于Vue + Vuex的SPA(1)
2018.9.12
Vue构建SPA真的是方便, 真的用来写广告页是再适合不过的东西了.其实数据量不大的情况下用JQuery也是可以的, 并不应该以技术新旧来定义好坏, 选择什么应该看我们的需求, 一切按着需求来!

#### 项目概览
这次带来一个真实项目, 是我在爱奇艺实习的时候做的中国新说唱投票页, 投票页已经下线了但是接口还是可以使用的, 其实请求数据不是重点, 重点是学习, 规划, 总结网页的设计, 组件划分的经验, 开发流程, 熟悉Vue只是顺手, 我建议不要把Vue看作一个框架, 使着使着我就感觉它更像是一个库, 上升不到Angular的层次, 但是用来写广告页或者简单的单页应用足够了, 快速构建..几天出活, 能不动脑子, 就不要动脑子. 尤其是广告页, 就是用来消费的, 认真真的就输了.凡事先从小的写起,

本项目设计到配置, 调试, 手机端调试等等技术, 长期更新..关注github https://github.com/Wangwei0223/Blog-174/tree/master/Vue%E7%B3%BB%E5%88%97

接口不能用的话或者数据有问题的话, 我们可以自己开服务去mock, 具体怎么开我会写在Node.js系列. 我们需要的仅仅是爱奇艺线上的CSS文件

#### 1. 获取线上资源
非常简单...如果是单一广告页, 直接审查元素找到引用的地址.
之后我们可以在chrome开发者工具(F12) 中的Source 按域名查找到
![](https://github.com/Wangwei0223/Blog-174/blob/master/Vue%E7%B3%BB%E5%88%97/image/%E8%8E%B7%E5%8F%96%E7%BA%BF%E4%B8%8A%E8%B5%84%E6%BA%90.png?raw=true)

两个CSS到手

问题来了, CSS中存不存在跨域? 
按说图片是不存在跨域的, 我的标签直接引用css资源也是不跨域的, 但是css中的有些font是涉及跨域的, 跨域怎么办? 后端配CORS也不可能配* 的, 开发过程中就要修改host.

改host的方法, windows / mac / linux 反正就是修改host文件, 用chrome中的各种插件也可以, 道理都是一样的

我们给的子域一样就可以了, 把127.0.0.1改为 dev.iqiyi.com

到此位置我们的准备工作就完成了

#### 2. 项目说明
##### 首屏
![](https://github.com/Wangwei0223/Blog-174/blob/master/Vue%E7%B3%BB%E5%88%97/image/first.png?raw=true)
就是这么一张页面.
拿到PRD也是一样, 第一步分析一波 **括号中的是要想到的点**
1. 这是首页, 包括公告, 开通会员涉及原生拉起(JSbridge). (判断ua)
2. 下方是一个说唱人气榜, 72位选手(懒加载). 
3. 说唱人气榜右上一个投票规则, 简单的浮层展示

##### 选手信息页
![](https://github.com/Wangwei0223/Blog-174/blob/master/Vue%E7%B3%BB%E5%88%97/image/player.png?raw=true)
**括号中的是要本能想到的点**
1. video一个(audio与video同时存在, 播放冲突的处理)
2. audio一个(播放/暂停, 滑动进度条, 点击进度条跳转)
3. 去泡泡圈&分享涉及原生拉起(JSbridge). (判断ua)
4. 投票调投票接口

##### 投票页
![](https://github.com/Wangwei0223/Blog-174/blob/master/Vue%E7%B3%BB%E5%88%97/image/vote.png?raw=true)
**括号中的是要本能想到的点**
1. 投票框可输入, 格式, 正确性
2. 加减按钮不能超过, 低于 最大 / 最小值
3. 投票完了, 判断用户状态(vip投完了普通票还可以去投vip票....是最麻烦的, 逻辑很多以后细说..)

9.12完结第一篇, 项目介绍